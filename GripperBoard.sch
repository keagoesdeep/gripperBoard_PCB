EESchema Schematic File Version 2
LIBS:power
LIBS:device
LIBS:switches
LIBS:relays
LIBS:motors
LIBS:transistors
LIBS:conn
LIBS:linear
LIBS:regul
LIBS:74xx
LIBS:cmos4000
LIBS:adc-dac
LIBS:memory
LIBS:xilinx
LIBS:microcontrollers
LIBS:dsp
LIBS:microchip
LIBS:analog_switches
LIBS:motorola
LIBS:texas
LIBS:intel
LIBS:audio
LIBS:interface
LIBS:digital-audio
LIBS:philips
LIBS:display
LIBS:cypress
LIBS:siliconi
LIBS:opto
LIBS:atmel
LIBS:contrib
LIBS:valves
LIBS:stm32
LIBS:lakotamm-amplifier
LIBS:lakotamm-motordriver
LIBS:GripperBoard-cache
EELAYER 25 0
EELAYER END
$Descr A4 11693 8268
encoding utf-8
Sheet 1 4
Title ""
Date ""
Rev ""
Comp ""
Comment1 ""
Comment2 ""
Comment3 ""
Comment4 ""
$EndDescr
$Sheet
S 4650 2200 1900 3200
U 5A01DDC2
F0 "MCU" 60
F1 "MCU.sch" 60
F2 "SWDIO" B L 4650 2650 60 
F3 "SWCLK" B L 4650 2450 60 
F4 "NRST" I L 4650 2750 60 
$EndSheet
$Sheet
S 7650 2200 2050 3200
U 5A01DDE3
F0 "Motor Driver" 60
F1 "Mot_driver.sch" 60
F2 "STEP_1" I L 7650 2400 60 
F3 "DIR_1" I L 7650 2500 60 
F4 "ENA_1" I L 7650 2700 60 
F5 "nSLEEP" I L 7650 3900 60 
F6 "M1_1" I L 7650 2900 60 
F7 "M0_1" I L 7650 3000 60 
F8 "TRQ_1" I L 7650 3200 60 
F9 "MOT1_AOUT1" O R 9700 2400 60 
F10 "MOT1_AOUT2" O R 9700 2700 60 
F11 "MOT1_BOUT1" O R 9700 3150 60 
F12 "MOT1_BOUT2" O R 9700 3450 60 
F13 "nFAULT" O L 7650 4000 60 
F14 "DECAY_1" I L 7650 3300 60 
F15 "RREF_1" I L 7650 3400 60 
F16 "STEP_2" I L 7650 4250 60 
F17 "DIR_2" I L 7650 4350 60 
F18 "ENA_2" I L 7650 4550 60 
F19 "M1_2" I L 7650 4750 60 
F20 "M0_2" I L 7650 4850 60 
F21 "TRQ_2" I L 7650 5050 60 
F22 "MOT2_AOUT1" O R 9700 4000 60 
F23 "MOT2_AOUT2" O R 9700 4300 60 
F24 "MOT2_BOUT1" O R 9700 4750 60 
F25 "MOT2_BOUT2" O R 9700 5050 60 
F26 "DECAY_2" I L 7650 5150 60 
F27 "RREF_2" I L 7650 5250 60 
F28 "Current_1" O L 7650 3600 60 
F29 "Current_2" O L 7650 3700 60 
$EndSheet
$Sheet
S 3250 4100 1000 550 
U 5A0B0910
F0 "CAN" 60
F1 "CAN.sch" 60
F2 "CANH" B L 3250 4300 60 
F3 "CANL" B L 3250 4400 60 
F4 "CAN_RX" O R 4250 4400 60 
F5 "CAN_S" I R 4250 4550 60 
F6 "CAN_TX" I R 4250 4300 60 
$EndSheet
$Comp
L Conn_01x04 J?
U 1 1 5A12FBD0
P 2500 4300
F 0 "J?" H 2500 4500 50  0000 C CNN
F 1 "CAN_1" H 2500 4000 50  0000 C CNN
F 2 "Connectors_JST:JST_GH_SM04B-GHS-TB_04x1.25mm_Angled" H 2500 4300 50  0001 C CNN
F 3 "" H 2500 4300 50  0001 C CNN
	1    2500 4300
	-1   0    0    -1  
$EndComp
$Comp
L Conn_01x04 J?
U 1 1 5A133C3D
P 2500 5150
F 0 "J?" H 2500 5350 50  0000 C CNN
F 1 "CAN_2" H 2500 4850 50  0000 C CNN
F 2 "Connectors_JST:JST_GH_SM04B-GHS-TB_04x1.25mm_Angled" H 2500 5150 50  0001 C CNN
F 3 "" H 2500 5150 50  0001 C CNN
	1    2500 5150
	-1   0    0    -1  
$EndComp
$Comp
L GND #PWR?
U 1 1 5A133DFF
P 2750 4550
F 0 "#PWR?" H 2750 4300 50  0001 C CNN
F 1 "GND" H 2750 4400 50  0000 C CNN
F 2 "" H 2750 4550 50  0001 C CNN
F 3 "" H 2750 4550 50  0001 C CNN
	1    2750 4550
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR?
U 1 1 5A133FBF
P 2750 5400
F 0 "#PWR?" H 2750 5150 50  0001 C CNN
F 1 "GND" H 2750 5250 50  0000 C CNN
F 2 "" H 2750 5400 50  0001 C CNN
F 3 "" H 2750 5400 50  0001 C CNN
	1    2750 5400
	1    0    0    -1  
$EndComp
Wire Wire Line
	2700 5350 2750 5350
Wire Wire Line
	2750 5350 2750 5400
$Comp
L +5V #PWR?
U 1 1 5A134174
P 2750 5000
F 0 "#PWR?" H 2750 4850 50  0001 C CNN
F 1 "+5V" H 2750 5140 50  0000 C CNN
F 2 "" H 2750 5000 50  0001 C CNN
F 3 "" H 2750 5000 50  0001 C CNN
	1    2750 5000
	1    0    0    -1  
$EndComp
$Comp
L +5V #PWR?
U 1 1 5A134334
P 2750 4150
F 0 "#PWR?" H 2750 4000 50  0001 C CNN
F 1 "+5V" H 2750 4290 50  0000 C CNN
F 2 "" H 2750 4150 50  0001 C CNN
F 3 "" H 2750 4150 50  0001 C CNN
	1    2750 4150
	1    0    0    -1  
$EndComp
Wire Wire Line
	2700 4200 2750 4200
Wire Wire Line
	2750 4200 2750 4150
Wire Wire Line
	2700 4500 2750 4500
Wire Wire Line
	2750 4500 2750 4550
Wire Wire Line
	2700 5050 2750 5050
Wire Wire Line
	2750 5050 2750 5000
$Comp
L Conn_01x05 J?
U 1 1 5A13B6AB
P 4050 2550
F 0 "J?" H 4050 2850 50  0000 C CNN
F 1 "SWD" H 4050 2250 50  0000 C CNN
F 2 "Connectors_Molex:Molex_PicoBlade_53261-0571_05x1.25mm_Angled" H 4050 2550 50  0001 C CNN
F 3 "" H 4050 2550 50  0001 C CNN
	1    4050 2550
	-1   0    0    -1  
$EndComp
Wire Wire Line
	2700 4300 3250 4300
Wire Wire Line
	2700 4400 3250 4400
Wire Wire Line
	2700 5150 2950 5150
Wire Wire Line
	2950 5150 2950 4300
Connection ~ 2950 4300
Wire Wire Line
	3050 4400 3050 5250
Wire Wire Line
	3050 5250 2700 5250
Connection ~ 3050 4400
$Comp
L +3V3 #PWR?
U 1 1 5A14DFC5
P 4400 2150
F 0 "#PWR?" H 4400 2000 50  0001 C CNN
F 1 "+3V3" H 4400 2290 50  0000 C CNN
F 2 "" H 4400 2150 50  0001 C CNN
F 3 "" H 4400 2150 50  0001 C CNN
	1    4400 2150
	1    0    0    -1  
$EndComp
Wire Wire Line
	4250 2350 4400 2350
Wire Wire Line
	4400 2350 4400 2150
Wire Wire Line
	4250 2450 4650 2450
Wire Wire Line
	4250 2650 4650 2650
Wire Wire Line
	4250 2750 4650 2750
$Comp
L GND #PWR?
U 1 1 5A14EFC9
P 4400 2850
F 0 "#PWR?" H 4400 2600 50  0001 C CNN
F 1 "GND" H 4400 2700 50  0000 C CNN
F 2 "" H 4400 2850 50  0001 C CNN
F 3 "" H 4400 2850 50  0001 C CNN
	1    4400 2850
	1    0    0    -1  
$EndComp
Wire Wire Line
	4250 2550 4400 2550
Wire Wire Line
	4400 2550 4400 2850
$Comp
L R R?
U 1 1 5A167214
P 3500 6250
F 0 "R?" V 3580 6250 50  0000 C CNN
F 1 "R" V 3500 6250 50  0000 C CNN
F 2 "" V 3430 6250 50  0001 C CNN
F 3 "" H 3500 6250 50  0001 C CNN
	1    3500 6250
	1    0    0    -1  
$EndComp
$Comp
L R R?
U 1 1 5A1677FF
P 3500 6650
F 0 "R?" V 3580 6650 50  0000 C CNN
F 1 "R" V 3500 6650 50  0000 C CNN
F 2 "" V 3430 6650 50  0001 C CNN
F 3 "" H 3500 6650 50  0001 C CNN
	1    3500 6650
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR?
U 1 1 5A16790D
P 3500 6850
F 0 "#PWR?" H 3500 6600 50  0001 C CNN
F 1 "GND" H 3500 6700 50  0000 C CNN
F 2 "" H 3500 6850 50  0001 C CNN
F 3 "" H 3500 6850 50  0001 C CNN
	1    3500 6850
	1    0    0    -1  
$EndComp
$Comp
L VDD #PWR?
U 1 1 5A167BD9
P 3500 6050
F 0 "#PWR?" H 3500 5900 50  0001 C CNN
F 1 "VDD" H 3500 6200 50  0000 C CNN
F 2 "" H 3500 6050 50  0001 C CNN
F 3 "" H 3500 6050 50  0001 C CNN
	1    3500 6050
	1    0    0    -1  
$EndComp
Wire Wire Line
	3500 6050 3500 6100
Wire Wire Line
	3500 6800 3500 6850
Wire Wire Line
	3500 6400 3500 6500
$Comp
L +5V #PWR?
U 1 1 5A168886
P 4400 6050
F 0 "#PWR?" H 4400 5900 50  0001 C CNN
F 1 "+5V" H 4400 6190 50  0000 C CNN
F 2 "" H 4400 6050 50  0001 C CNN
F 3 "" H 4400 6050 50  0001 C CNN
	1    4400 6050
	1    0    0    -1  
$EndComp
$Comp
L R R?
U 1 1 5A168985
P 4400 6250
F 0 "R?" V 4480 6250 50  0000 C CNN
F 1 "R" V 4400 6250 50  0000 C CNN
F 2 "" V 4330 6250 50  0001 C CNN
F 3 "" H 4400 6250 50  0001 C CNN
	1    4400 6250
	1    0    0    -1  
$EndComp
$Comp
L R R?
U 1 1 5A168A8F
P 4400 6650
F 0 "R?" V 4480 6650 50  0000 C CNN
F 1 "R" V 4400 6650 50  0000 C CNN
F 2 "" V 4330 6650 50  0001 C CNN
F 3 "" H 4400 6650 50  0001 C CNN
	1    4400 6650
	1    0    0    -1  
$EndComp
Wire Wire Line
	4400 6400 4400 6500
$Comp
L GND #PWR?
U 1 1 5A168C2F
P 4400 6850
F 0 "#PWR?" H 4400 6600 50  0001 C CNN
F 1 "GND" H 4400 6700 50  0000 C CNN
F 2 "" H 4400 6850 50  0001 C CNN
F 3 "" H 4400 6850 50  0001 C CNN
	1    4400 6850
	1    0    0    -1  
$EndComp
Wire Wire Line
	4400 6800 4400 6850
Wire Wire Line
	4400 6050 4400 6100
Wire Wire Line
	4400 6450 4550 6450
Connection ~ 4400 6450
Wire Wire Line
	3500 6450 3650 6450
Connection ~ 3500 6450
Text Label 3650 6450 0    60   ~ 0
VDD_ADC
Text Label 4550 6450 0    60   ~ 0
+5V_ADC
$Comp
L Conn_01x04 J?
U 1 1 5A1757EA
P 2500 3400
F 0 "J?" H 2500 3600 50  0000 C CNN
F 1 "UART" H 2500 3100 50  0000 C CNN
F 2 "Connectors_JST:JST_GH_SM04B-GHS-TB_04x1.25mm_Angled" H 2500 3400 50  0001 C CNN
F 3 "" H 2500 3400 50  0001 C CNN
	1    2500 3400
	-1   0    0    -1  
$EndComp
$Comp
L +5V #PWR?
U 1 1 5A175E15
P 2750 3200
F 0 "#PWR?" H 2750 3050 50  0001 C CNN
F 1 "+5V" H 2750 3340 50  0000 C CNN
F 2 "" H 2750 3200 50  0001 C CNN
F 3 "" H 2750 3200 50  0001 C CNN
	1    2750 3200
	1    0    0    -1  
$EndComp
Wire Wire Line
	2700 3300 2750 3300
Wire Wire Line
	2750 3300 2750 3200
$Comp
L GND #PWR?
U 1 1 5A175FA7
P 2750 3650
F 0 "#PWR?" H 2750 3400 50  0001 C CNN
F 1 "GND" H 2750 3500 50  0000 C CNN
F 2 "" H 2750 3650 50  0001 C CNN
F 3 "" H 2750 3650 50  0001 C CNN
	1    2750 3650
	1    0    0    -1  
$EndComp
Wire Wire Line
	2700 3600 2750 3600
Wire Wire Line
	2750 3600 2750 3650
$Comp
L R R?
U 1 1 5A176AB9
P 3250 3500
F 0 "R?" V 3330 3500 50  0000 C CNN
F 1 "R" V 3250 3500 50  0000 C CNN
F 2 "Resistors_SMD:R_0402" V 3180 3500 50  0001 C CNN
F 3 "" H 3250 3500 50  0001 C CNN
	1    3250 3500
	0    1    1    0   
$EndComp
Wire Wire Line
	2700 3400 2800 3400
Wire Wire Line
	2700 3500 3100 3500
$Comp
L D_Schottky D?
U 1 1 5A1770D7
P 2950 3400
F 0 "D?" H 3300 3500 50  0000 C CNN
F 1 "D_Schottky" H 3000 3500 50  0000 C CNN
F 2 "Diodes_SMD:D_SOD-523" H 2950 3400 50  0001 C CNN
F 3 "" H 2950 3400 50  0001 C CNN
	1    2950 3400
	1    0    0    -1  
$EndComp
Wire Wire Line
	3100 3400 3550 3400
Wire Wire Line
	3400 3500 3550 3500
Text Label 3550 3400 0    60   ~ 0
RX
Text Label 3550 3500 0    60   ~ 0
TX
$Comp
L GND #PWR?
U 1 1 5A1844F1
P 2900 1250
F 0 "#PWR?" H 2900 1000 50  0001 C CNN
F 1 "GND" H 2900 1100 50  0000 C CNN
F 2 "" H 2900 1250 50  0001 C CNN
F 3 "" H 2900 1250 50  0001 C CNN
	1    2900 1250
	1    0    0    -1  
$EndComp
$Comp
L VDD #PWR?
U 1 1 5A1845F1
P 2450 1150
F 0 "#PWR?" H 2450 1000 50  0001 C CNN
F 1 "VDD" H 2450 1300 50  0000 C CNN
F 2 "" H 2450 1150 50  0001 C CNN
F 3 "" H 2450 1150 50  0001 C CNN
	1    2450 1150
	1    0    0    -1  
$EndComp
$Comp
L PWR_FLAG #FLG?
U 1 1 5A1847F1
P 2900 1150
F 0 "#FLG?" H 2900 1225 50  0001 C CNN
F 1 "PWR_FLAG" H 2900 1300 50  0000 C CNN
F 2 "" H 2900 1150 50  0001 C CNN
F 3 "" H 2900 1150 50  0001 C CNN
	1    2900 1150
	1    0    0    -1  
$EndComp
$Comp
L PWR_FLAG #FLG?
U 1 1 5A184AD1
P 2450 1250
F 0 "#FLG?" H 2450 1325 50  0001 C CNN
F 1 "PWR_FLAG" H 2450 1400 50  0000 C CNN
F 2 "" H 2450 1250 50  0001 C CNN
F 3 "" H 2450 1250 50  0001 C CNN
	1    2450 1250
	-1   0    0    1   
$EndComp
Wire Wire Line
	2900 1150 2900 1250
Wire Wire Line
	2450 1150 2450 1250
$Comp
L +5V #PWR?
U 1 1 5A1856D7
P 2000 1150
F 0 "#PWR?" H 2000 1000 50  0001 C CNN
F 1 "+5V" H 2000 1290 50  0000 C CNN
F 2 "" H 2000 1150 50  0001 C CNN
F 3 "" H 2000 1150 50  0001 C CNN
	1    2000 1150
	1    0    0    -1  
$EndComp
$Comp
L PWR_FLAG #FLG?
U 1 1 5A185B88
P 2000 1250
F 0 "#FLG?" H 2000 1325 50  0001 C CNN
F 1 "PWR_FLAG" H 2000 1400 50  0000 C CNN
F 2 "" H 2000 1250 50  0001 C CNN
F 3 "" H 2000 1250 50  0001 C CNN
	1    2000 1250
	-1   0    0    1   
$EndComp
Wire Wire Line
	2000 1150 2000 1250
$Comp
L Conn_01x01 J?
U 1 1 5A18C409
P 10150 2400
F 0 "J?" H 10150 2500 50  0000 C CNN
F 1 "MOT1_AOUT1" H 10150 2300 50  0000 C CNN
F 2 "" H 10150 2400 50  0001 C CNN
F 3 "" H 10150 2400 50  0001 C CNN
	1    10150 2400
	1    0    0    -1  
$EndComp
$Comp
L Conn_01x01 J?
U 1 1 5A18C7AF
P 10150 2700
F 0 "J?" H 10150 2800 50  0000 C CNN
F 1 "MOT1_AOUT2" H 10150 2600 50  0000 C CNN
F 2 "" H 10150 2700 50  0001 C CNN
F 3 "" H 10150 2700 50  0001 C CNN
	1    10150 2700
	1    0    0    -1  
$EndComp
$Comp
L Conn_01x01 J?
U 1 1 5A18C93A
P 10150 3150
F 0 "J?" H 10150 3250 50  0000 C CNN
F 1 "MOT1_BOUT1" H 10150 3050 50  0000 C CNN
F 2 "" H 10150 3150 50  0001 C CNN
F 3 "" H 10150 3150 50  0001 C CNN
	1    10150 3150
	1    0    0    -1  
$EndComp
$Comp
L Conn_01x01 J?
U 1 1 5A18CD2E
P 10150 3450
F 0 "J?" H 10150 3550 50  0000 C CNN
F 1 "MOT1_BOUT2" H 10150 3350 50  0000 C CNN
F 2 "" H 10150 3450 50  0001 C CNN
F 3 "" H 10150 3450 50  0001 C CNN
	1    10150 3450
	1    0    0    -1  
$EndComp
$Comp
L Conn_01x01 J?
U 1 1 5A18D849
P 10150 4000
F 0 "J?" H 10150 4100 50  0000 C CNN
F 1 "MOT2_AOUT1" H 10150 3900 50  0000 C CNN
F 2 "" H 10150 4000 50  0001 C CNN
F 3 "" H 10150 4000 50  0001 C CNN
	1    10150 4000
	1    0    0    -1  
$EndComp
$Comp
L Conn_01x01 J?
U 1 1 5A18D84F
P 10150 4300
F 0 "J?" H 10150 4400 50  0000 C CNN
F 1 "MOT2_AOUT2" H 10150 4200 50  0000 C CNN
F 2 "" H 10150 4300 50  0001 C CNN
F 3 "" H 10150 4300 50  0001 C CNN
	1    10150 4300
	1    0    0    -1  
$EndComp
$Comp
L Conn_01x01 J?
U 1 1 5A18D855
P 10150 4750
F 0 "J?" H 10150 4850 50  0000 C CNN
F 1 "MOT2_BOUT1" H 10150 4650 50  0000 C CNN
F 2 "" H 10150 4750 50  0001 C CNN
F 3 "" H 10150 4750 50  0001 C CNN
	1    10150 4750
	1    0    0    -1  
$EndComp
$Comp
L Conn_01x01 J?
U 1 1 5A18D85B
P 10150 5050
F 0 "J?" H 10150 5150 50  0000 C CNN
F 1 "MOT2_BOUT2" H 10150 4950 50  0000 C CNN
F 2 "" H 10150 5050 50  0001 C CNN
F 3 "" H 10150 5050 50  0001 C CNN
	1    10150 5050
	1    0    0    -1  
$EndComp
Wire Wire Line
	9700 4000 9950 4000
Wire Wire Line
	9700 4300 9950 4300
Wire Wire Line
	9700 4750 9950 4750
Wire Wire Line
	9700 5050 9950 5050
Wire Wire Line
	9700 3450 9950 3450
Wire Wire Line
	9700 3150 9950 3150
Wire Wire Line
	9700 2700 9950 2700
Wire Wire Line
	9700 2400 9950 2400
$Comp
L +5V #PWR?
U 1 1 5A1912AB
P 1950 1900
F 0 "#PWR?" H 1950 1750 50  0001 C CNN
F 1 "+5V" H 1950 2040 50  0000 C CNN
F 2 "" H 1950 1900 50  0001 C CNN
F 3 "" H 1950 1900 50  0001 C CNN
	1    1950 1900
	1    0    0    -1  
$EndComp
$Comp
L C C?
U 1 1 5A19191E
P 1950 2100
F 0 "C?" H 1975 2200 50  0000 L CNN
F 1 "C" H 1975 2000 50  0000 L CNN
F 2 "" H 1988 1950 50  0001 C CNN
F 3 "" H 1950 2100 50  0001 C CNN
	1    1950 2100
	1    0    0    -1  
$EndComp
Wire Wire Line
	1950 1900 1950 1950
$Comp
L GND #PWR?
U 1 1 5A191AF6
P 1950 2300
F 0 "#PWR?" H 1950 2050 50  0001 C CNN
F 1 "GND" H 1950 2150 50  0000 C CNN
F 2 "" H 1950 2300 50  0001 C CNN
F 3 "" H 1950 2300 50  0001 C CNN
	1    1950 2300
	1    0    0    -1  
$EndComp
Wire Wire Line
	1950 2250 1950 2300
$Comp
L VDD #PWR?
U 1 1 5A191CCF
P 2250 1900
F 0 "#PWR?" H 2250 1750 50  0001 C CNN
F 1 "VDD" H 2250 2050 50  0000 C CNN
F 2 "" H 2250 1900 50  0001 C CNN
F 3 "" H 2250 1900 50  0001 C CNN
	1    2250 1900
	1    0    0    -1  
$EndComp
$Comp
L C C?
U 1 1 5A191DEB
P 2250 2100
F 0 "C?" H 2275 2200 50  0000 L CNN
F 1 "C" H 2275 2000 50  0000 L CNN
F 2 "" H 2288 1950 50  0001 C CNN
F 3 "" H 2250 2100 50  0001 C CNN
	1    2250 2100
	1    0    0    -1  
$EndComp
Wire Wire Line
	2250 1900 2250 1950
$Comp
L GND #PWR?
U 1 1 5A191FD3
P 2250 2300
F 0 "#PWR?" H 2250 2050 50  0001 C CNN
F 1 "GND" H 2250 2150 50  0000 C CNN
F 2 "" H 2250 2300 50  0001 C CNN
F 3 "" H 2250 2300 50  0001 C CNN
	1    2250 2300
	1    0    0    -1  
$EndComp
Wire Wire Line
	2250 2250 2250 2300
Text Notes 1150 1700 0    60   ~ 0
Input capacitance needed + protection
$EndSCHEMATC
